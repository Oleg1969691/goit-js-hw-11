{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst API_KEY = '42645745-9a6b6cb9b7a69a83c3f4bd2c7';\n\nfunction fetchImages(searchQuery) {\n    const url = `https://pixabay.com/api/?key=${API_KEY}&q=${encodeURIComponent(searchQuery)}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n    return fetch(url)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error('Network response was not ok');\n            }\n            return response.json();\n        })\n        .then(data => {\n            if (data.hits.length === 0) {\n                iziToast.error({\n                    title: 'Error',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    position: 'topRight' \n                });\n            }\n            return data.hits;\n        })\n        .catch(error => {\n            console.error('Error fetching images:', error);\n            iziToast.error({\n                title: 'Error',\n                message: 'Failed to fetch images. Please try again later.',\n                position: 'topRight' \n            });\n            return [];\n        });\n}\n\nexport { fetchImages };\n","'use strict';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nfunction renderGallery(images) {\n    const gallery = document.querySelector('.gallery');\n    gallery.innerHTML = '';\n\n    const loader = document.querySelector('.loader');\n    loader.style.display = 'block';\n\n    const limitedImages = images.slice(0, 9);\n\n    gallery.innerHTML = '';\n\n    Promise.all(limitedImages.map(image => {\n        return new Promise((resolve, reject) => {\n            const img = new Image();\n            img.onload = () => resolve({ image, loaded: true });\n            img.onerror = () => resolve({ image, loaded: false });\n            img.src = image.webformatURL;\n        });\n    }))\n    .then(results => {\n        loader.style.display = 'none';\n        results.forEach(({ image, loaded }) => {\n            if (loaded) {\n                const galleryItem = document.createElement('div');\n                galleryItem.classList.add('gallery-item');\n\n                const link = document.createElement('a');\n                link.href = image.largeImageURL;\n\n                const img = document.createElement('img');\n                img.src = image.webformatURL;\n                img.alt = image.tags;\n                img.classList.add('gallery-item-img');\n\n                const detailsContainer = document.createElement('div');\n                detailsContainer.classList.add('details-container');\n\n                const detailWrapper1 = document.createElement('div');\n                detailWrapper1.classList.add('detail-wrapper');\n\n                const likesLabel = document.createElement('p');\n                likesLabel.classList.add('detail-label');\n                likesLabel.textContent = 'Likes';\n\n                const likesValue = document.createElement('p');\n                likesValue.classList.add('detail-value');\n                likesValue.textContent = image.likes;\n\n                detailWrapper1.appendChild(likesLabel);\n                detailWrapper1.appendChild(likesValue);\n\n                const detailWrapper2 = document.createElement('div');\n                detailWrapper2.classList.add('detail-wrapper');\n\n                const viewsLabel = document.createElement('p');\n                viewsLabel.classList.add('detail-label');\n                viewsLabel.textContent = 'Views';\n\n                const viewsValue = document.createElement('p');\n                viewsValue.classList.add('detail-value');\n                viewsValue.textContent = image.views;\n\n                detailWrapper2.appendChild(viewsLabel);\n                detailWrapper2.appendChild(viewsValue);\n\n                const detailWrapper3 = document.createElement('div');\n                detailWrapper3.classList.add('detail-wrapper');\n\n                const commentsLabel = document.createElement('p');\n                commentsLabel.classList.add('detail-label');\n                commentsLabel.textContent = 'Comments';\n\n                const commentsValue = document.createElement('p');\n                commentsValue.classList.add('detail-value');\n                commentsValue.textContent = image.comments;\n\n                detailWrapper3.appendChild(commentsLabel);\n                detailWrapper3.appendChild(commentsValue);\n\n                const detailWrapper4 = document.createElement('div');\n                detailWrapper4.classList.add('detail-wrapper');\n\n                const downloadsLabel = document.createElement('p');\n                downloadsLabel.classList.add('detail-label');\n                downloadsLabel.textContent = 'Downloads';\n\n                const downloadsValue = document.createElement('p');\n                downloadsValue.classList.add('detail-value');\n                downloadsValue.textContent = image.downloads;\n\n                detailWrapper4.appendChild(downloadsLabel);\n                detailWrapper4.appendChild(downloadsValue);\n\n                detailsContainer.appendChild(detailWrapper1);\n                detailsContainer.appendChild(detailWrapper2);\n                detailsContainer.appendChild(detailWrapper3);\n                detailsContainer.appendChild(detailWrapper4);\n\n                link.appendChild(img);\n                galleryItem.appendChild(link);\n                galleryItem.appendChild(detailsContainer);\n\n                gallery.appendChild(galleryItem);\n            }\n        });\n\n        const lightbox = new SimpleLightbox('.gallery-item a', { /* options */ });\n        lightbox.on('show.simplelightbox', function (e) {\n            console.log('Image shown');\n        });\n        lightbox.on('close.simplelightbox', function () {\n            console.log('Lightbox closed');\n        });\n    })\n    .catch(error => {\n        console.error('Error loading images:', error);\n        loader.style.display = 'none';\n    });\n}\n\nexport { renderGallery };\n","'use strict';\n\nimport { fetchImages } from './js/pixabay-api.js';\nimport { renderGallery } from './js/render-functions.js';\n\nconst searchForm = document.querySelector('.search-form');\nconst searchInput = document.querySelector('.search-input');\n\nsearchForm.addEventListener('submit', handleSearch);\n\nfunction handleSearch(event) {\n    event.preventDefault();\n    const searchQuery = searchInput.value.trim();\n\n    if (searchQuery === '') {\n        alert('Please enter a search query');\n        return;\n    }\n\n    fetchImages(searchQuery)\n        .then(images => {\n            if (images.length === 0) {\n                alert('No images found for the provided search query');\n            } else {\n                renderGallery(images);\n            }\n        })\n        .catch(error => console.error('Error:', error));\n}\n\nfunction clearGallery() {\n    const gallery = document.querySelector('.gallery');\n    gallery.innerHTML = ''; \n}\n\nfunction addImagesToGallery(images) {\n    const gallery = document.querySelector('.gallery');\n\n    images.forEach(image => {\n        const galleryItem = document.createElement('div');\n        galleryItem.classList.add('gallery-item');\n\n        const img = document.createElement('img');\n        img.src = image.webformatURL;\n        img.alt = image.tags;\n\n        galleryItem.appendChild(img);\n        gallery.appendChild(galleryItem);\n    });\n}\n\n"],"names":["API_KEY","fetchImages","searchQuery","url","response","data","iziToast","error","renderGallery","images","gallery","loader","limitedImages","image","resolve","reject","img","results","loaded","galleryItem","link","detailsContainer","detailWrapper1","likesLabel","likesValue","detailWrapper2","viewsLabel","viewsValue","detailWrapper3","commentsLabel","commentsValue","detailWrapper4","downloadsLabel","downloadsValue","lightbox","SimpleLightbox","e","searchForm","searchInput","handleSearch","event"],"mappings":"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"}